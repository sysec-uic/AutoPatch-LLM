https://bugzilla.redhat.com/show_bug.cgi?id=624438

           /*
            * Make sure we aren't adding a new value of a different
            * type...
            */

            if (value_tag == IPP_TAG_ZERO)
            {
             /*
              * Setting the value of a collection member...
              */

              attr->value_tag = tag;
            }
            else if ((value_tag >= IPP_TAG_TEXTLANG &&
                      value_tag <= IPP_TAG_MIMETYPE))
            {
             /*
              * String values can sometimes come across in different
              * forms; accept sets of differing values...
              */
             /*
              * String values can sometimes come across in different
              * forms; accept sets of differing values...
              */

              if ((tag < IPP_TAG_TEXTLANG || tag > IPP_TAG_MIMETYPE) &&
                  tag != IPP_TAG_NOVALUE)
              {
                DEBUG_printf(("1ippReadIO: 1setOf value tag %x(%s) != %x(%s)",
                              value_tag, ippTagString(value_tag), tag,
                              ippTagString(tag)));
                ipp_buffer_release(buffer);
                return (IPP_ERROR);
              }
            }
            else if (value_tag != tag)
            {
              DEBUG_printf(("1ippReadIO: value tag %x(%s) != %x(%s)",
                            value_tag, ippTagString(value_tag), tag,
                            ippTagString(tag)));
              ipp_buffer_release(buffer);
              return (IPP_ERROR);
            }

Now, IPP_TAG_TEXTLANG < 56 < IPP_TAG_MIMETYPE, so '56' is allowed to be compatible with string types -- even though it uses a different allocator.

Here is how the data is freed:

    default :
        if (!((int)attr->value_tag & IPP_TAG_COPY))
        {
          for (i = 0, value = attr->values;
               i < attr->num_values;
               i ++, value ++)
            if (value->unknown.data)
              free(value->unknown.data);
        }
        break;
